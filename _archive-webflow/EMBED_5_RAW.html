  <div class="w-embed w-script">
    <style>
    #modalContent { position: fixed; top: 0; left: 0; width: 100vw !important; max-width: 100vw !important; height: 100dvh !important; background: white; z-index: 9999; transform: translateY(100%); transition: transform 0.5s cubic-bezier(0.19, 1, 0.22, 1) !important; display: flex; flex-direction: column; }
    #modalContent:not(.translate-x-full) { transform: translateY(0) !important; }
    .translate-x-full { transform: translateY(100%) !important; }
    .custom-scrollbar::-webkit-scrollbar { width: 6px; }
    .custom-scrollbar::-webkit-scrollbar-track { background: transparent; }
    .custom-scrollbar::-webkit-scrollbar-thumb { background: #E5E5E5; border-radius: 10px; }
    .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #FF3333; }
    .step-grid { display: grid; gap: 1.5rem; width: 100%; }
    @media (min-width: 768px) { .h-screen-adaptive { min-height: calc(100vh - 280px); align-content: center; } .grid-archetypes { height: auto; overflow: visible; } }
    .range-wrap { position: relative; margin-bottom: 45px; }
    .range-value { position: absolute; top: 45px; transform: translateX(-50%); font-size: 10px; font-weight: 900; color: #FF3333; opacity: 0; transition: opacity 0.2s; pointer-events: none; }
    .range-wrap:hover .range-value, .range-wrap:active .range-value { opacity: 1; }
    .checklist-item { opacity: 0; transform: translateY(10px); transition: all 0.5s ease; }
    .checklist-item.visible { opacity: 1; transform: translateY(0); }
    @media (max-width: 640px) {
        .totals-mobile { display: flex !important; flex-direction: column; gap: 0.5rem; align-items: flex-end; }
        .totals-mobile > div { display: flex; gap: 0.5rem; align-items: center; }
    }
    .tooltip { position: relative; display: inline-block; cursor: help; }
    .tooltip .tooltiptext { visibility: hidden; width: 200px; background-color: #333; color: #fff; text-align: center; border-radius: 6px; padding: 8px; position: absolute; z-index: 1; bottom: 125%; left: 50%; margin-left: -100px; opacity: 0; transition: opacity 0.3s; font-size: 11px; line-height: 1.4; }
    .tooltip .tooltiptext::after { content: ""; position: absolute; top: 100%; left: 50%; margin-left: -5px; border-width: 5px; border-style: solid; border-color: #333 transparent transparent transparent; }
    .tooltip:hover .tooltiptext { visibility: visible; opacity: 1; }
    .upsell-card { border: 1px solid #E5E5E5; padding: 1rem; cursor: pointer; transition: all 0.2s; display: flex; justify-content: space-between; align-items: center; background: white; position: relative; }
    .upsell-card:hover { border-color: #999; }
    .upsell-card.selected { border-color: black; background-color: #F9F9F9; box-shadow: 0 4px 10px rgba(0,0,0,0.05); }
    .upsell-check { width: 20px; height: 20px; border: 1px solid #ccc; border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 12px; color: transparent; flex-shrink: 0; }
    .upsell-card.selected .upsell-check { background: black; border-color: black; color: white; }
    .qty-input { width: 60px; padding: 4px 8px; border: 1px solid #ccc; text-align: center; font-weight: bold; }
    .lang-checkbox { margin-right: 8px; }
    .countdown { font-size: 24px; font-weight: 900; color: #FF3333; font-family: 'JetBrains Mono', monospace; }
    .upsell-success-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 1rem; }
</style>
    <script>
    var FORM_ACTION_URL = "https://formsubmit.co/mf.phan@bigneurons.com";
    var FORM_ACTION_URL_UPSELL = "https://formsubmit.co/mf.phan@bigneurons.com";
    var BRAND_RED = "#FF3333";
    var currentStep = 1; 
    var totalSteps = 7;
    var fileStore = [];
    var currentConsoleMessage = "WAITING FOR INPUT...";
    var countdownTimer = null;
    var countdownStarted = false;
    var PACKS = [
        { id: 'MAQUETTE', name: 'PACK MAQUETTE', price: 900, delay: 12, desc: 'Design Only // Pas de code' },
        { id: 'STARTER', name: 'PACK STARTER', price: 980, delay: 24, desc: 'Landing Page // Vitrine' },
        { id: 'BUSINESS', name: 'PACK BUSINESS', price: 2200, delay: 48, desc: 'Site Complet // Blog & SEO' }
    ];
    var UPSELLS = {
        'MAQUETTE': [
            { id: 'packGraphique', name: 'Pack Graphique', price: 160, delay: 4, tooltip: 'Un Directeur Artistique senior boostÃ© Ã  l\'IA, s\'occupe de votre charte graphique et nous vous fournissons votre logo, votre typo et vos couleurs', desc: 'DA senior boostÃ© IA pour votre charte complÃ¨te.' },
            { id: 'pagesSup', name: 'Pages supplÃ©mentaires', price: 100, delay: 2, hasQty: true, hasNames: true, tooltip: 'On peut tout dire en une page, mais parfois on peut avoir besoin/envie de plus d\'espace', desc: 'Plus d\'espace pour dÃ©velopper votre contenu.' },
            { id: 'slogan', name: 'Slogan', price: 80, delay: 1, tooltip: 'On vous trouve votre "Just Do It" : Un concepteur-rÃ©dacteur senior vous propose 3 slogans mÃ©morables', desc: '3 slogans mÃ©morables par un CR senior.' }
        ],
        'STARTER': [
            { id: 'packGraphique', name: 'Pack Graphique', price: 160, delay: 4, tooltip: 'Un Directeur Artistique senior boostÃ© Ã  l\'IA, s\'occupe de votre charte graphique et nous vous fournissons votre logo, votre typo et vos couleurs', desc: 'DA senior boostÃ© IA pour votre charte complÃ¨te.' },
            { id: 'slogan', name: 'Slogan', price: 80, delay: 1, tooltip: 'On vous trouve votre "Just Do It" : Un concepteur-rÃ©dacteur senior vous propose 3 slogans mÃ©morables', desc: '3 slogans mÃ©morables par un CR senior.' },
            { id: 'pagesSup', name: 'Pages supplÃ©mentaires', price: 190, delay: 3, hasQty: true, hasNames: true, tooltip: 'On peut tout dire en une page, mais parfois on peut avoir besoin/envie de plus d\'espace', desc: 'Plus d\'espace pour dÃ©velopper votre contenu.' },
            { id: 'formulaire', name: 'Formulaire', price: 90, delay: 1, tooltip: 'On sait que vous avez aimÃ© le notre, on vous en fait un ?', desc: 'Un formulaire comme celui-ci pour votre site.' },
            { id: 'multilingue', name: 'Multilingue', price: 130, delay: 2, hasLangs: true, tooltip: 'Donnez une dimension internationale Ã  votre marque', desc: 'Dimension internationale. 1Ã¨re langue offerte.' },
            { id: 'setupGoogle', name: 'Setup Google', price: 90, delay: 1, tooltip: 'On vous connecte aux outils d\'analyses et de publicitÃ© google', desc: 'Analytics + Ads configurÃ©s et prÃªts.' },
            { id: 'darkMode', name: 'Version Dark/White', price: 35, delay: 1, tooltip: 'ModernitÃ© ou Ã©lÃ©gance, plus besoin de choisir', desc: 'Laissez vos visiteurs choisir leur ambiance.' },
            { id: 'paiement', name: 'Module de paiement (Stripe)', price: 120, delay: 2, tooltip: 'Vous comptez encaisser comment ?', desc: 'Encaissement Stripe intÃ©grÃ© et sÃ©curisÃ©.' }
        ],
        'BUSINESS': [
            { id: 'packGraphique', name: 'Pack Graphique', price: 160, delay: 4, tooltip: 'Un Directeur Artistique senior boostÃ© Ã  l\'IA, s\'occupe de votre charte graphique et nous vous fournissons votre logo, votre typo et vos couleurs', desc: 'DA senior boostÃ© IA pour votre charte complÃ¨te.' },
            { id: 'slogan', name: 'Slogan', price: 80, delay: 1, tooltip: 'On vous trouve votre "Just Do It" : Un concepteur-rÃ©dacteur senior vous propose 3 slogans mÃ©morables', desc: '3 slogans mÃ©morables par un CR senior.' },
            { id: 'pagesSup', name: 'Pages supplÃ©mentaires', price: 190, delay: 3, hasQty: true, hasNames: true, tooltip: 'On peut tout dire en une page, mais parfois on peut avoir besoin/envie de plus d\'espace', desc: 'Plus d\'espace pour dÃ©velopper votre contenu.' },
            { id: 'formulaire', name: 'Formulaire', price: 90, delay: 1, tooltip: 'On sait que vous avez aimÃ© le notre, on vous en fait un ?', desc: 'Un formulaire comme celui-ci pour votre site.' },
            { id: 'multilingue', name: 'Multilingue', price: 130, delay: 2, hasLangs: true, tooltip: 'Donnez une dimension internationale Ã  votre marque', desc: 'Dimension internationale. 1Ã¨re langue offerte.' },
            { id: 'setupGoogle', name: 'Setup Google', price: 90, delay: 1, tooltip: 'On vous connecte aux outils d\'analyses et de publicitÃ© google', desc: 'Analytics + Ads configurÃ©s et prÃªts.' },
            { id: 'darkMode', name: 'Version Dark/White', price: 35, delay: 1, tooltip: 'ModernitÃ© ou Ã©lÃ©gance, plus besoin de choisir', desc: 'Laissez vos visiteurs choisir leur ambiance.' },
            { id: 'paiement', name: 'Module de paiement (Stripe)', price: 120, delay: 2, tooltip: 'Vous comptez encaisser comment ?', desc: 'Encaissement Stripe intÃ©grÃ© et sÃ©curisÃ©.' }
        ]
    };
    var UPSELLS_SUCCESS = [
        { id: 'socialMedia', name: 'Pack Social Media Lancement', price: 140, hasNetwork: true, tooltip: 'Maintenant que vous avez un beau site, il faut l\'annoncer, profitez de 8 publications sur Instagram ou 6 sur LinkedIn', desc: '8 posts Instagram ou 6 posts LinkedIn pour annoncer votre lancement.' },
        { id: 'pubMeta', name: 'Pack PublicitÃ©s Meta', price: 160, tooltip: 'Faites vos premiÃ¨res ventes avec un jeu de 6 crÃ©a performantes, adaptÃ©es Ã  l\'algorithme Meta et surtout Ã  votre cible', desc: '6 crÃ©as Meta performantes adaptÃ©es Ã  votre cible.' },
        { id: 'analysePersona', name: 'Analyse Cible et Persona', price: 30, tooltip: 'Apprenez Ã  connaÃ®tre votre cible par coeur, pour leur parler en toute autonomie', desc: 'Connaissez votre cible par cÅ“ur.' },
        { id: 'packPrint', name: 'Pack Graphique Print', price: 140, tooltip: 'Votre univers digital dans la vraie vie avec 3 gabarits (carte de visite, flyer recto-verso et roll up)', desc: 'Carte de visite, flyer et roll-up pour exister IRL.' },
        { id: 'tomorrowSucces', name: 'Pack Tomorrow SuccÃ¨s', price: 290, originalPrice: 470, isBundle: true, tooltip: 'Tous les services prÃ©cÃ©dents', desc: 'Tous les services ci-dessus rÃ©unis. Ã‰conomisez 180â‚¬.' }
    ];
    var DETAILS_DATA = {
        'MAQUETTE': { title: 'PACK MAQUETTE (12H)', included: ['Design Figma Complet', 'Direction Artistique Senior', 'Maquettes Desktop & Mobile', 'Fichiers Sources', 'Cession des droits'], excluded: ['IntÃ©gration Webflow', 'Animations', 'SEO Technique', 'Mise en ligne'] },
        'STARTER': { title: 'PACK STARTER (24H)', included: ['Design Premium', 'DÃ©veloppement Webflow', 'Responsive Perfect', 'Optimisation SEO de base', 'Copywriting (Textes)'], excluded: ['SystÃ¨me de Blog/CMS', 'Filtres avancÃ©s', 'E-commerce'] },
        'BUSINESS': { title: 'PACK BUSINESS (48H)', included: ['Site Multi-pages (max 5)', 'CMS (Blog/RÃ©alisations)', 'Animations AvancÃ©es (GSAP)', 'SEO Technique AvancÃ©', 'Formation Admin'], excluded: ['E-commerce complexe', 'Espace Membre'] }
    };
    var ARCHETYPES = [
        { id: 'innocent', icon: 'â˜ï¸', name: "L'Innocent", desc: "Optimisme & SÃ©curitÃ©" }, 
        { id: 'explorer', icon: 'ðŸ§­', name: "L'Explorateur", desc: "LibertÃ© & DÃ©couverte" },
        { id: 'sage', icon: 'ðŸ¦‰', name: "Le Sage", desc: "VÃ©ritÃ© & Expertise" }, 
        { id: 'hero', icon: 'ðŸ†', name: "Le HÃ©ros", desc: "Courage & MaÃ®trise" },
        { id: 'outlaw', icon: 'ðŸ’€', name: "Le Hors-la-loi", desc: "RÃ©volution & Disruption" }, 
        { id: 'magician', icon: 'âœ¨', name: "Le Magicien", desc: "Vision & Transformation" },
        { id: 'everyman', icon: 'ðŸ¤', name: "Mr T-L-M", desc: "RÃ©alisme & Connexion" }, 
        { id: 'lover', icon: 'ðŸŒ¹', name: "L'Amoureux", desc: "Passion & IntimitÃ©" },
        { id: 'jester', icon: 'ðŸŽ­', name: "Le Bouffon", desc: "Humour & Plaisir" }, 
        { id: 'caregiver', icon: 'ðŸ›¡ï¸', name: "Le Soignant", desc: "Service & Protection" },
        { id: 'creator', icon: 'ðŸŽ¨', name: "Le CrÃ©ateur", desc: "Innovation & CrÃ©ation" }, 
        { id: 'ruler', icon: 'ðŸ‘‘', name: "Le Dirigeant", desc: "ContrÃ´le & SuccÃ¨s" }
    ];
    var formData = {
        brandName: '', pitch: '', competitors: '', target: '', problem: '', solution: '', whyUs: '', archetype: '', vibeSeriousness: 0, vibeStyle: 0, copywriting: 'me', selectedPack: '', 
        upsells: {},
        pagesSupQty: 1,
        pagesSupNames: [],
        multiLangues: [],
        socialNetwork: '',
        socialNetworkExtra: false,
        upsellsSuccess: {},
        hasDomain: null, domainName: '', care: false, email: '', phone: ''
    };
    window.openDetails = function(planKey) {
        var data = DETAILS_DATA[planKey];
        if(!data) return;
        var titleEl = document.getElementById('detailTitle');
        var incEl = document.getElementById('detailIncluded');
        var excEl = document.getElementById('detailExcluded');
        var modal = document.getElementById('detailsModal');
        if(titleEl) titleEl.innerText = data.title;
        if(incEl) incEl.innerHTML = data.included.map(i => `<li class="flex items-center gap-3"><span class="w-1.5 h-1.5 bg-black"></span>${i}</li>`).join('');
        if(excEl) excEl.innerHTML = data.excluded.map(i => `<li class="flex items-center gap-3 opacity-50"><span class="w-1.5 h-1.5 bg-gray-300"></span>${i}</li>`).join('');
        if(modal) { modal.classList.remove('hidden'); lockScroll(); }
    };
    window.closeDetails = function() { var m = document.getElementById('detailsModal'); if(m) m.classList.add('hidden'); unlockScroll(); };
    window.openProcessDetails = function() { var m = document.getElementById('processDetailsModal'); if(m) { m.classList.remove('hidden'); lockScroll(); } };
    window.closeProcessDetails = function() { var m = document.getElementById('processDetailsModal'); if(m) m.classList.add('hidden'); unlockScroll(); };
    window.openTemplateVideo = function() { var m = document.getElementById('videoEggModal'); if(m) m.classList.remove('hidden'); };
    window.closeTemplateVideo = function() { var m = document.getElementById('videoEggModal'); if(m) { m.classList.add('hidden'); var iframe = m.querySelector('iframe'); if(iframe) { var src = iframe.src; iframe.src = src; } } };
    window.openLightbox = function(src, title) { var m = document.getElementById('lightboxModal'); var img = document.getElementById('lightboxImage'); if(m && img) { img.src = src; m.classList.remove('hidden'); } };
    window.closeLightbox = function() { var m = document.getElementById('lightboxModal'); if(m) m.classList.add('hidden'); };
    function calculateTotals() {
        var price = 0; var delay = 0;
        var pack = PACKS.find(p => p.id === formData.selectedPack);
        if (pack) { price += pack.price; delay += pack.delay; }
        var upsellList = UPSELLS[formData.selectedPack] || [];
        upsellList.forEach(u => {
            if (formData.upsells[u.id]) {
                if(u.hasQty) {
                    price += u.price * formData.pagesSupQty;
                    delay += u.delay * formData.pagesSupQty;
                } else if(u.hasLangs) {
                    var langCount = formData.multiLangues.length;
                    if(langCount > 0) {
                        price += u.price;
                        if(langCount > 1) price += (langCount - 1) * 20;
                        delay += u.delay;
                    }
                } else {
                    price += u.price;
                    delay += u.delay;
                }
            }
        });
        return { price: price, delay: delay };
    }
    function validateEmail(email) { return String(email).toLowerCase().match(/^[^\s@]+@[^\s@]+\.[^\s@]+$/); }
    function validatePhone(phone) { return String(phone).match(/^(?:(?:\+|00)33|0)\s*[1-9](?:[\s.-]*\d{2}){4}$/); }
    function checkValidation() {
        let valid = true;
        let emailInput = document.getElementById('input-email');
        let phoneInput = document.getElementById('input-phone');
        if(emailInput) emailInput.style.borderColor = "#e2e8f0";
        if(phoneInput) phoneInput.style.borderColor = "#e2e8f0";
        if (!validateEmail(formData.email)) { typeConsole('ERROR: INVALID EMAIL'); if(emailInput) { emailInput.style.borderColor = BRAND_RED; gsap.fromTo(emailInput, {x:-5}, {x:5, duration:0.1, yoyo:true, repeat:3}); } valid = false; }
        if (!validatePhone(formData.phone)) { typeConsole('ERROR: INVALID PHONE'); if(phoneInput) { phoneInput.style.borderColor = BRAND_RED; gsap.fromTo(phoneInput, {x:-5}, {x:5, duration:0.1, yoyo:true, repeat:3}); } valid = false; }
        return valid;
    }
    function updateRangeLabel(input, labelId) {
        const val = parseInt(input.value);
        const label = document.getElementById(labelId);
        if(label) { let sign = val > 0 ? "+" : ""; if(val === 0) sign = ""; label.innerHTML = sign + val + '%'; const percent = ((val + 100) * 100) / 200; label.style.left = `calc(${percent}% + (${8 - percent * 0.15}px))`; }
    }
    function typeConsole(text) { currentConsoleMessage = text; var el = document.getElementById('consoleOutput'); if(el) { el.innerHTML = `<span class="text-[#FF3333] font-bold">> SYSTEM:</span> ${text}`; el.classList.remove('animate-pulse'); void el.offsetWidth; el.classList.add('animate-pulse'); } }
    function lockScroll() { document.body.style.overflow = 'hidden'; }
    function unlockScroll() { document.body.style.overflow = ''; }
    window.updateInput = function(key, value, consoleMsg) { formData[key] = value; if(consoleMsg) { typeConsole(consoleMsg); } if(key === 'brandName') { var el = document.getElementById('consoleBrandName'); if(el) el.innerText = value || 'N/A'; } };
    function renderHeader(progress) { return `<div class="flex-none bg-white z-50 pt-6 px-6 pb-2 w-full"><div class="max-w-7xl mx-auto w-full"><div class="flex justify-between items-end mb-2"><div class="text-[10px] font-bold text-black bg-gray-100 px-3 py-1 rounded-full">STEP ${currentStep}/7</div></div><div class="h-1 w-full bg-gray-100 relative rounded-full overflow-hidden"><div class="h-full bg-[#FF3333] transition-all duration-500 ease-out" style="width: ${progress}%"></div></div></div></div>`; }
</script>
